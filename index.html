<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Klondike Teacher Resource Hub</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header class="main-header">
        <img src="/img/logo_klondike-web.png" alt="Klondike Bear" class="header-image">
        <h1>Champion Resource Hub</h1>
    </header>

    <nav>
        <ul>
            <li><a href="index.html" class="active">Home</a></li>
            <li><a href="calendar.html">Calendar</a></li>
            <li><a href="teacher-resources.html">Resources</a></li>
            <li><a href="links.html">Important Links</a></li>
        </ul>
    </nav>
    
    <main>
        <section class="welcome-announcements">
            <h2>Welcome, Klondike Champions! Add this page to your bookmarks. It will serve as your main source for daily information. Here are some important announcements and shout-outs!</h2>
            <div class="iframe-container">
                <iframe src="https://docs.google.com/document/d/e/2PACX-1vSqgHBx5MKU179Dz0gP0vYjEDA9Twgbna2tadYyrPKuOIdMrMSzyGM4n1P7qprjkjepNia9VuuFuqni/pub?embedded=true"></iframe>
            </div>
        </section>

        <section id="weather-section">
            <h2>Current Weather</h2>
            <p id="weather">
                <span id="temperature"></span><br>
                <span id="description"></span><br>
                <img id="weather-icon" alt="Weather Icon" />
            </p>
        </section>
    </main>

    <footer>
        <ul>
            <li>
                <a href="https://maps.app.goo.gl/wPCsjSREfqCSqZPH9" target="_blank">
                    3807 Klondike Lane, Louisville, KY 40218
                </a>
            </li>
            <li>(502) 485-8286</li>
        </ul>
        <p>&copy; 2024 Klondike Teacher Resource Hub</p>
    </footer>

    <script defer>
        document.addEventListener('DOMContentLoaded', async () => {
            const weatherElement = document.getElementById('weather');
        
            try {
                const response = await fetch('https://api.openweathermap.org/data/2.5/weather?q=Louisville&appid=2c973da105dbad25dd9922831d94642a&units=imperial');
                if (!response.ok) throw new Error('Network response was not ok');
        
                const weatherData = await response.json();
                console.log(weatherData); // Check the API response
                
                const temp = Math.round(weatherData.main.temp);
                const description = weatherData.weather[0].description.toUpperCase();
                const icon = weatherData.weather[0].icon;
                const iconUrl = `https://openweathermap.org/img/wn/${icon}@2x.png`;
        
                weatherElement.innerHTML = `
                    <img src="${iconUrl}" alt="${description}" />
                    <div id="temp">${temp}Â°F</div>
                    <div id="description">${description}</div>
                `;
            } catch (error) {
                console.error('Error fetching weather data:', error);
                weatherElement.textContent = 'Unable to load weather data.';
            }
        });

        document.addEventListener("DOMContentLoaded", function() {
            const links = document.querySelectorAll("nav ul li a");
            const currentPage = window.location.pathname.split("/").pop();
        
            links.forEach(link => {
                if (link.getAttribute("href") === currentPage) {
                    link.classList.add("active");
                }
            });
        });
    </script>
</body>
</html>
